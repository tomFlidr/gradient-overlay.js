/**
 * GradientOverlay.JS
 * @author: Tom Flidr | tomflidr(at)gmail(dot)com
 * @url: https://github.com/tomFlidr/gradient-overlay.js
 * @licence: https://tomflidr.github.io/gradient-overlay.js/LICENCE.txt
 * @version: 1.1.0
 * @date: 2021-01-22
 * @example: GradientOverlay.Process(document.querySelectorAll('.footer-div'), ['#000000', '#ff0000']);
*/
var GradientOverlay=function(){var l=+new Date;Function.prototype.bind||(Function.prototype.bind=function(a){function b(){return f.apply(this instanceof e?this:a,g.concat(d.call(arguments)))}function e(){}if("function"!==typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var d=[].slice,g=d.call(arguments,1),f=this;this.prototype&&(e.prototype=this.prototype);b.prototype=new e;return b});String.prototype.trim=function(a){var b=" \n\r\t\f\x0B\u00a0\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u200b\u2028\u2029\u3000",
e,d=this+"";a&&(b=(a+"").replace(/([[\]().?/*{}+$^:])/g,"$1"));a=d.length;for(e=0;e<a;e++)if(-1===b.indexOf(d.charAt(e))){d=d.substring(e);break}a=d.length;for(e=a-1;0<=e;e--)if(-1===b.indexOf(d.charAt(e))){d=d.substring(0,e+1);break}return-1===b.indexOf(d.charAt(0))?d:""};var n={$:function(a){return(a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a))?{r:parseInt(a[1],16),A:parseInt(a[2],16),w:parseInt(a[3],16)}:null},aa:function(a){var b=a[0]/255,e=a[1]/255;a=a[2]/255;var d=Math.max(b,e,a),g=
Math.min(b,e,a),f,c=(d+g)/2;if(d==g)f=g=0;else{var k=d-g,g=.5<c?k/(2-d-g):k/(d+g);switch(d){case b:f=(e-a)/k+(e<a?6:0);break;case e:f=(a-b)/k+2;break;case a:f=(b-e)/k+4}f/=6}return[f,g,c]}},c=function(){var a=null;return function e(){var d=[].slice.apply(arguments);if(this===window)return new e;null===a?(this.va(),this.Process.apply(this,d)):this.Process.apply(a,d);return a||(a=this)}}();c.J="Unknown query selector result as first argument of 'GradientOverlay.Process(); function'.";c.GRADIENT_OVERLAY_ID=
"GRADIENT_OVERLAY_ID";c.F=1;c.I=1;c.H=2;c.DIV_ELM_RENDERED_CLASSNAME="ok";c.G=function(){var a=window.navigator.userAgent,b;b=a.indexOf("MSIE ");if(-1<b)return parseInt(a.substring(b+5,a.indexOf(".",b)),10);b=a.indexOf("Trident/");if(-1<b)return b=a.indexOf("rv:"),parseInt(a.substring(b+3,a.indexOf(".",b)),10);b=a.indexOf("Edge/");return-1<b?parseInt(a.substring(b+5,a.indexOf(".",b)),10):0}();c.i=0;c.B=[];c.ba=function(){c.i=+new Date;for(var a=0,b=c.B.length;a<b;a+=1)c.B[a]()};c.u=0;c.K=[];c.O=function(){--c.u;
if(0===c.u){var a=+new Date,b={StartTimestamp:l,DomLoadedTimestamp:c.i,AllRenderedTimestamp:a,DomLoadedTime:(c.i-l)/1E3,AllRenderedTime:(a-c.i)/1E3};c.K.forEach(function(a){a(b)})}};c.Process=function(a,b,e){return c().Process(a,b,e)};c.GetInstance=function(a){return c().GetInstance(a)};c.AddAllItemsRenderedHandler=function(a){c.K.push(a);return c};c.prototype={GetInstance:function(a){return this.P[a[c.GRADIENT_OVERLAY_ID]]},va:function(){this.P={};(this.M=!!document.createElement("canvas"))||console.error("Canvas element is not supported by this browser.")},
fa:function(a){for(var b,e=!0,d=0,g=a.length;d<g;d+=1)if(b=a[d],"string"==typeof b){b=n.$(b);if(!b){e=!1;console.error("Wrong hexadecimal color format: "+a[d]);break}a[d]=b}else if("object"==typeof b&&b.length){if(3!=b.length){e=!1;console.error("Wrong rgb color format: "+JSON.encode(b));break}a[d]={r:b[0],A:b[1],w:b[2]}}return{xa:e,data:a}},ga:function(a){for(var b=[],e=a[1].r-a[0].r,d=a[1].A-a[0].A,g=a[1].w-a[0].w,f,c=0;256>c;c+=1)f=1/256*c,b.push([a[0].r+f*e,a[0].A+f*d,a[0].w+f*g]);return b},Process:function(a,
b,e){if(this.M)if(a){var d="number"==typeof a.nodeType;b=this.fa(b);if(b.xa)if(b=this.ga(b.data),!d&&a.length)for(var d=0,g=a.length;d<g;d+=1)this.V(a[d],b,e);else d?this.V(a,b,e):console.error(c.J)}else b&&console.error(c.J)},V:function(a,b,e){if(!a[c.GRADIENT_OVERLAY_ID]){var d="id"+(c.F+=1);c.u+=1;this.P[d]=new c.Element(d,a,b,e)}}};c.Element=function(a,b,e,d){this.b=b;this.ea=e;this.L=d;this.b[c.GRADIENT_OVERLAY_ID]=a;this.W="img"==b.nodeName.toLowerCase()?c.I:c.H;this.m=this.c=this.f=null;this.o=
"";this.s={width:0,height:0};this.h={Z:!1,Y:!1,X:!1,width:{j:!0,raw:0,a:0},height:{j:!0,raw:0,a:0}};this.l={x:{j:!0,raw:0,a:0},y:{j:!0,raw:0,a:0}};this.c=document.createElement("canvas");this.m=this.c.getContext("2d");this.ha()};c.Element.prototype={ha:function(){if(this.W==c.I){var a=document.createElement("img");this.f=a;a.addEventListener("load",this.ja.bind(this));this.o=this.b.src;a.src=this.o}else this.W==c.H&&(c.i?this.R():c.B.push(this.R.bind(this)))},ja:function(){this.S();this.ta();this.U();
this.da();this.N()},R:function(){var a=document.createElement("img"),b=window.getComputedStyle(this.b);this.ma(b);this.ka(b);this.la(b);a.addEventListener("load",this.ia.bind(this));this.f=a;a.src=this.o},ia:function(){this.S();this.C();if(c.G){var a=0;window.addEventListener("resize",function(){clearTimeout(a);a=setTimeout(function(){this.C()}.bind(this),100)}.bind(this))}else window.addEventListener("resize",this.C.bind(this));this.ca();this.N()},C:function(){this.pa();this.oa();this.sa();this.U()},
S:function(){var a=this.f,b=this.s,e=a.naturalWidth,d=a.naturalHeight;e||(e=a.offsetWidth);d||(d=a.offsetHeight);b.width=e;b.height=d},ma:function(a){var b=this.g(a,"background-image");b||(b=this.g(a,"background"));this.o=b.replace(/url\(([^\)]*)\)/g,"$1").trim("\"'");"none"===this.o&&console.error("Element has no `background` or `background-image` css property defined.",this.b)},ka:function(a){var b=this.g(a,"background-position-x");a=this.g(a,"background-position-y");var e=this.l.x,d=this.l.y;-1<
b.indexOf("left")&&(b="100%");-1<b.indexOf("center")&&(b="50%");-1<b.indexOf("right")&&(b="0%");e.raw=parseFloat(b);-1<b.indexOf("%")&&(e.j=!1,e.raw/=100);-1<a.indexOf("top")&&(a="100%");-1<a.indexOf("middle")&&(a="50%");-1<a.indexOf("bottom")&&(a="0%");d.raw=parseFloat(a);-1<a.indexOf("%")&&(d.j=!1,d.raw/=100)},la:function(a){a=window.getComputedStyle(this.b);var b=this.h,e=this.g(a,"background-size");a=[];var d,c;if("auto"!=e&&e.length)if("cover"==e)b.Y=!0;else if("contain"==e)b.X=!0;else{e=e.split(" ");
1===e.length&&(e[1]="auto");for(var f=0,h=e.length;f<h;f+=1)c=e[f],d={wa:-1<c.indexOf("%"),D:!1,raw:0,a:0},a[f]=d,"auto"==c?d.D=!0:d.raw=parseInt(c,10);b.width=a[0];b.height=a[1]}else b.Z=!0},na:function(a){return[this.g(a,"border-top-width",!0),this.g(a,"border-right-width",!0),this.g(a,"border-bottom-width",!0),this.g(a,"border-left-width",!0)]},g:function(a,b,e){a=a.getPropertyValue(b).replace(" !important","").trim();return e?parseFloat(a):a},pa:function(){var a=this.b,b=a.offsetWidth,e=a.offsetHeight,
d=this.s,c=d.width,f=d.height,h=this.h.width,k=this.h.height;this.h.Z?(h.a=c,k.a=f):this.h.X?this.qa(h,k,c,f,b,e):this.h.Y?this.ra(h,k,c,f,b,e):(a=window.getComputedStyle(a),this.T(h,b,a,0),this.T(k,e,a,1),h.D&&(h.a=Math.round(d.width/d.height*k.a)),k.D&&(k.a=Math.round(d.height/d.width*h.a)))},qa:function(a,b,e,d,c,f){e>c?(a.a=c,b.a=c/e*d,b.a>f&&(b.a=f,a.a=f/d*e)):d>f&&(b.a=f,a.a=f/d*e,a.a>c&&(a.a=c,b.a=c/e*d))},ra:function(a,b,e,d,c,f){e<c?(a.a=c,b.a=c/e*d,b.a<f&&(b.a=f,a.a=f/d*e)):d<f?(b.a=f,a.a=
f/d*e,a.a<c&&(a.a=c,b.a=c/e*d)):e>c?(a.a=c,b.a=c/e*d,b.a<f&&(b.a=f,a.a=f/d*e)):d>f&&(b.a=f,a.a=f/d*e,a.a<c&&(a.a=c,b.a=c/e*d))},T:function(a,b,e,d){var g=[],f=c.G;f&&(g=this.na(e));a.wa?a.a=a.raw/100*b:a.a=f&&b==a.raw+(0===d?g[1]+g[3]:g[0]+g[2])?b:a.raw},oa:function(){var a=this.l.x,b=this.l.y;a.a=a.j?-a.raw:-((this.b.offsetWidth-this.h.width.a)*a.raw);b.a=b.j?-b.raw:-((this.b.offsetHeight-this.h.height.a)*b.raw);-0===a.a&&(a.a=0);-0===b.a&&(b.a=0)},ta:function(){var a=this.s,b=a.width,a=a.height;
this.c.width=b;this.c.height=a;this.m.drawImage(this.f,0,0,b,a,0,0,b,a)},sa:function(){var a=this.s,b=this.h,c=b.width.a,b=b.height.a,d=this.b.offsetWidth,g=this.b.offsetHeight,f=this.l.x,h=this.l.y;this.v=document.createElement("canvas");this.ua=this.v.getContext("2d");this.v.width=c;this.v.height=b;this.ua.drawImage(this.f,0,0,a.width,a.height,0,0,c,b);this.c.width=d;this.c.height=g;this.m.drawImage(this.v,Math.max(0,f.a),Math.max(0,h.a),d,g,0>f.a?Math.abs(f.a):0,0>h.a?Math.abs(h.a):0,d,g)},U:function(){for(var a=
this.c.width,b=this.c.height,c=this.m.getImageData(0,0,a,b),d=c.data,g=0,f,h,k=0;k<b;k+=1)for(var m=0;m<a;m+=1)f=[d[g],d[g+1],d[g+2]],h=n.aa(f),h=Math.round(255*h[2]-127*h[1]),0>h&&(h=0),f=Math.round((f[0]+f[1]+f[2])/3),f=Math.round((f+h)/2),f=this.ea[f],d[g]=f[0],d[g+1]=f[1],d[g+2]=f[2],g+=4;this.m.putImageData(c,0,0)},N:function(){if(this.L){var a=this.L,b=+new Date,b={StartTimestamp:l,DomLoadedTimestamp:c.i,AllRenderedTimestamp:b,DomLoadedTime:(c.i-l)/1E3,AllRenderedTime:(b-c.i)/1E3};try{a(b)}catch(e){}}},
da:function(){this.c=this.b.parentNode.insertBefore(this.c,this.b);this.b.parentNode.removeChild(this.b);this.c.className=this.b.className+" "+c.DIV_ELM_RENDERED_CLASSNAME;this.f=null;c.O()},ca:function(){var a=window.getComputedStyle(this.b),a=this.g(a,"background");this.c=this.b.parentNode.insertBefore(this.c,this.b);this.b.style["background-image"]="";-1<a.indexOf(this.f.src)&&(this.b.style.background=a.replace(/^(.*)url\(([^\)]*)\)(.*)$/g,"$1$3"));this.f.parentNode&&this.f.parentNode.removeChild(this.f);
this.c.className=this.b.className;this.b.className+=" "+c.DIV_ELM_RENDERED_CLASSNAME;c.O()}};(function(a,b){function c(){try{k.doScroll("left")}catch(a){setTimeout(c,50);return}d("poll")}function d(c){if("readystatechange"!=c.type||"complete"==h.readyState)("load"==c.type?a:h)[n](p+c.type,d,!1),!g&&(g=!0)&&b.call(a,c.type||c)}var g=!1,f=!0,h=a.document,k=h.documentElement,m=h.addEventListener,l=m?"addEventListener":"attachEvent",n=m?"removeEventListener":"detachEvent",p=m?"":"on";if("complete"==h.readyState)b.call(a,
"lazy");else{if(!m&&k.doScroll){try{f=!a.frameElement}catch(q){}f&&c()}h[l](p+"DOMContentLoaded",d,!1);h[l](p+"readystatechange",d,!1);a[l](p+"load",d,!1)}})(window,c.ba);return c}();
