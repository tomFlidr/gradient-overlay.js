/**
 * GradientOverlay.JS
 * @author: Tom Flidr | tomflidr(at)gmail(dot)com
 * @url: https://github.com/tomFlidr/gradient-overlay.js
 * @licence: https://tomflidr.github.io/gradient-overlay.js/LICENCE.txt
 * @version: 1.0.0
 * @date: 2018-02-21
 * @example: GradientOverlay.Process(document.querySelectorAll('.footer-div'), ['#000000', '#ff0000']);
*/
var GradientOverlay=function(){var m=+new Date;Function.prototype.bind||(Function.prototype.bind=function(a){function b(){return f.apply(this instanceof e?this:a,g.concat(d.call(arguments)))}function e(){}if("function"!==typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var d=[].slice,g=d.call(arguments,1),f=this;this.prototype&&(e.prototype=this.prototype);b.prototype=new e;return b});String.prototype.trim=function(a){var b=" \n\r\t\f\x0B\u00a0\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u200b\u2028\u2029\u3000",
e,d=this+"";a&&(b=(a+"").replace(/([[\]().?/*{}+$^:])/g,"$1"));a=d.length;for(e=0;e<a;e++)if(-1===b.indexOf(d.charAt(e))){d=d.substring(e);break}a=d.length;for(e=a-1;0<=e;e--)if(-1===b.indexOf(d.charAt(e))){d=d.substring(0,e+1);break}return-1===b.indexOf(d.charAt(0))?d:""};var q={Y:function(a){return(a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a))?{r:parseInt(a[1],16),A:parseInt(a[2],16),w:parseInt(a[3],16)}:null},Z:function(a){var b=a[0]/255,e=a[1]/255;a=a[2]/255;var d=Math.max(b,e,a),g=Math.min(b,
e,a),f,c=(d+g)/2;if(d==g)f=g=0;else{var k=d-g,g=.5<c?k/(2-d-g):k/(d+g);switch(d){case b:f=(e-a)/k+(e<a?6:0);break;case e:f=(a-b)/k+2;break;case a:f=(b-e)/k+4}f/=6}return[f,g,c]}},c=function(){var a=null;return function e(){var d=[].slice.apply(arguments);if(this===window)return new e;null===a?(this.ta(),this.Process.apply(this,d)):this.Process.apply(a,d);return a||(a=this)}}();c.J="Unknown query selector result as first argument of 'GradientOverlay.Process(); function'.";c.GRADIENT_OVERLAY_ID="GRADIENT_OVERLAY_ID";
c.F=1;c.I=1;c.H=2;c.DIV_ELM_RENDERED_CLASSNAME="ok";c.G=function(){var a=window.navigator.userAgent,b;b=a.indexOf("MSIE ");if(-1<b)return parseInt(a.substring(b+5,a.indexOf(".",b)),10);b=a.indexOf("Trident/");if(-1<b)return b=a.indexOf("rv:"),parseInt(a.substring(b+3,a.indexOf(".",b)),10);b=a.indexOf("Edge/");return-1<b?parseInt(a.substring(b+5,a.indexOf(".",b)),10):0}();c.l=0;c.B=[];c.$=function(){c.l=+new Date;for(var a=0,b=c.B.length;a<b;a+=1)c.B[a]()};c.u=0;c.K=[];c.M=function(){--c.u;if(0===
c.u){var a=+new Date,b={StartTimestamp:m,DomLoadedTimestamp:c.l,AllRenderedTimestamp:a,DomLoadedTime:(c.l-m)/1E3,AllRenderedTime:(a-c.l)/1E3};c.K.forEach(function(a){a(b)})}};c.Process=function(a,b){return c().Process(a,b)};c.GetInstance=function(a){return c().GetInstance(a)};c.AddAllItemsRenderedHandler=function(a){c.K.push(a);return c};c.prototype={GetInstance:function(a){return this.N[a[c.GRADIENT_OVERLAY_ID]]},ta:function(){this.N={};(this.L=!!document.createElement("canvas"))||console.error("Canvas element is not supported by this browser.")},
da:function(a){for(var b,e=!0,d=0,g=a.length;d<g;d+=1)if(b=a[d],"string"==typeof b){b=q.Y(b);if(!b){e=!1;console.error("Wrong hexadecimal color format: "+a[d]);break}a[d]=b}else if("object"==typeof b&&b.length){if(3!=b.length){e=!1;console.error("Wrong rgb color format: "+JSON.encode(b));break}a[d]={r:b[0],A:b[1],w:b[2]}}return{va:e,data:a}},ea:function(a){for(var b=[],e=a[1].r-a[0].r,d=a[1].A-a[0].A,g=a[1].w-a[0].w,f,c=0;256>c;c+=1)f=1/256*c,b.push([a[0].r+f*e,a[0].A+f*d,a[0].w+f*g]);return b},Process:function(a,
b){if(this.L)if(a){var e="number"==typeof a.nodeType,d=this.da(b);if(d.va)if(d=this.ea(d.data),!e&&a.length)for(var e=0,g=a.length;e<g;e+=1)this.T(a[e],d);else e?this.T(a,d):console.error(c.J)}else b&&console.error(c.J)},T:function(a,b){if(!a[c.GRADIENT_OVERLAY_ID]){var e="id"+(c.F+=1);c.u+=1;this.N[e]=new c.Element(e,a,b)}}};c.Element=function(a,b,e){this.b=b;this.ca=e;this.b[c.GRADIENT_OVERLAY_ID]=a;this.U="img"==b.nodeName.toLowerCase()?c.I:c.H;this.m=this.c=this.f=null;this.s="";this.o={width:0,
height:0};this.h={X:!1,W:!1,V:!1,width:{i:!0,raw:0,a:0},height:{i:!0,raw:0,a:0}};this.j={x:{i:!0,raw:0,a:0},y:{i:!0,raw:0,a:0}};this.c=document.createElement("canvas");this.m=this.c.getContext("2d");this.fa()};c.Element.prototype={fa:function(){if(this.U==c.I){var a=document.createElement("img");this.f=a;a.addEventListener("load",this.ha.bind(this));this.s=this.b.src;a.src=this.s}else this.U==c.H&&(c.l?this.O():c.B.push(this.O.bind(this)))},ha:function(){this.P();this.ra();this.S();this.ba()},O:function(){var a=
document.createElement("img"),b=window.getComputedStyle(this.b);this.ka(b);this.ia(b);this.ja(b);a.addEventListener("load",this.ga.bind(this));this.f=a;a.src=this.s},ga:function(){this.P();this.C();if(c.G){var a=0;window.addEventListener("resize",function(){clearTimeout(a);a=setTimeout(function(){this.C()}.bind(this),100)}.bind(this))}else window.addEventListener("resize",this.C.bind(this));this.aa()},C:function(){this.na();this.ma();this.qa();this.S()},P:function(){var a=this.f,b=this.o,e=a.naturalWidth,
d=a.naturalHeight;e||(e=a.offsetWidth);d||(d=a.offsetHeight);b.width=e;b.height=d},ka:function(a){var b=this.g(a,"background-image");b||(b=this.g(a,"background"));this.s=b.replace(/url\(([^\)]*)\)/g,"$1").trim("\"'")},ia:function(a){var b=this.g(a,"background-position-x");a=this.g(a,"background-position-y");var e=this.j.x,d=this.j.y;-1<b.indexOf("left")&&(b="100%");-1<b.indexOf("center")&&(b="50%");-1<b.indexOf("right")&&(b="0%");e.raw=parseFloat(b);-1<b.indexOf("%")&&(e.i=!1,e.raw/=100);-1<a.indexOf("top")&&
(a="100%");-1<a.indexOf("middle")&&(a="50%");-1<a.indexOf("bottom")&&(a="0%");d.raw=parseFloat(a);-1<a.indexOf("%")&&(d.i=!1,d.raw/=100)},ja:function(a){a=window.getComputedStyle(this.b);var b=this.h,e=this.g(a,"background-size");a=[];var d,g;if("auto"!=e&&e.length)if("cover"==e)b.W=!0;else if("contain"==e)b.V=!0;else{e=e.split(" ");1===e.length&&(e[1]="auto");for(var f=0,c=e.length;f<c;f+=1)g=e[f],d={ua:-1<g.indexOf("%"),D:!1,raw:0,a:0},a[f]=d,"auto"==g?d.D=!0:d.raw=parseInt(g,10);b.width=a[0];b.height=
a[1]}else b.X=!0},la:function(a){return[this.g(a,"border-top-width",!0),this.g(a,"border-right-width",!0),this.g(a,"border-bottom-width",!0),this.g(a,"border-left-width",!0)]},g:function(a,b,e){a=a.getPropertyValue(b).replace(" !important","").trim();return e?parseFloat(a):a},na:function(){var a=this.b,b=a.offsetWidth,e=a.offsetHeight,d=this.o,g=d.width,f=d.height,c=this.h.width,k=this.h.height;this.h.X?(c.a=g,k.a=f):this.h.V?this.oa(c,k,g,f,b,e):this.h.W?this.pa(c,k,g,f,b,e):(a=window.getComputedStyle(a),
this.R(c,b,a,0),this.R(k,e,a,1),c.D&&(c.a=Math.round(d.width/d.height*k.a)),k.D&&(k.a=Math.round(d.height/d.width*c.a)))},oa:function(a,b,e,d,c,f){e>c?(a.a=c,b.a=c/e*d,b.a>f&&(b.a=f,a.a=f/d*e)):d>f&&(b.a=f,a.a=f/d*e,a.a>c&&(a.a=c,b.a=c/e*d))},pa:function(a,b,e,d,c,f){e<c?(a.a=c,b.a=c/e*d,b.a<f&&(b.a=f,a.a=f/d*e)):d<f?(b.a=f,a.a=f/d*e,a.a<c&&(a.a=c,b.a=c/e*d)):e>c?(a.a=c,b.a=c/e*d,b.a<f&&(b.a=f,a.a=f/d*e)):d>f&&(b.a=f,a.a=f/d*e,a.a<c&&(a.a=c,b.a=c/e*d))},R:function(a,b,e,d){var g=[],f=c.G;f&&(g=this.la(e));
a.ua?a.a=a.raw/100*b:a.a=f&&b==a.raw+(0===d?g[1]+g[3]:g[0]+g[2])?b:a.raw},ma:function(){var a=this.j.x,b=this.j.y;a.a=a.i?-a.raw:-((this.b.offsetWidth-this.h.width.a)*a.raw);b.a=b.i?-b.raw:-((this.b.offsetHeight-this.h.height.a)*b.raw);-0===a.a&&(a.a=0);-0===b.a&&(b.a=0)},ra:function(){var a=this.o,b=a.width,a=a.height;this.c.width=b;this.c.height=a;this.m.drawImage(this.f,0,0,b,a,0,0,b,a)},qa:function(){var a=this.o,b=this.h,e=b.width.a,b=b.height.a,d=this.b.offsetWidth,c=this.b.offsetHeight,f=this.j.x,
h=this.j.y;this.v=document.createElement("canvas");this.sa=this.v.getContext("2d");this.v.width=e;this.v.height=b;this.sa.drawImage(this.f,0,0,a.width,a.height,0,0,e,b);this.c.width=d;this.c.height=c;this.m.drawImage(this.v,Math.max(0,f.a),Math.max(0,h.a),d,c,0>f.a?Math.abs(f.a):0,0>h.a?Math.abs(h.a):0,d,c)},S:function(){for(var a=this.c.width,b=this.c.height,c=this.m.getImageData(0,0,a,b),d=c.data,g=0,f,h,k=0;k<b;k+=1)for(var l=0;l<a;l+=1)f=[d[g],d[g+1],d[g+2]],h=q.Z(f),h=Math.round(255*h[2]-127*
h[1]),0>h&&(h=0),f=Math.round((f[0]+f[1]+f[2])/3),f=Math.round((f+h)/2),f=this.ca[f],d[g]=f[0],d[g+1]=f[1],d[g+2]=f[2],g+=4;this.m.putImageData(c,0,0)},ba:function(){this.c=this.b.parentNode.insertBefore(this.c,this.b);this.b.parentNode.removeChild(this.b);this.c.className=this.b.className+" "+c.DIV_ELM_RENDERED_CLASSNAME;this.f=null;c.M()},aa:function(){var a=window.getComputedStyle(this.b),a=this.g(a,"background");this.c=this.b.parentNode.insertBefore(this.c,this.b);this.b.style["background-image"]=
"";-1<a.indexOf(this.f.src)&&(this.b.style.background=a.replace(/^(.*)url\(([^\)]*)\)(.*)$/g,"$1$3"));this.f.parentNode&&this.f.parentNode.removeChild(this.f);this.c.className=this.b.className;this.b.className+=" "+c.DIV_ELM_RENDERED_CLASSNAME;c.M()}};(function(a,b){function c(){try{k.doScroll("left")}catch(a){setTimeout(c,50);return}d("poll")}function d(c){if("readystatechange"!=c.type||"complete"==h.readyState)("load"==c.type?a:h)[m](n+c.type,d,!1),!g&&(g=!0)&&b.call(a,c.type||c)}var g=!1,f=!0,
h=a.document,k=h.documentElement,l=h.addEventListener,p=l?"addEventListener":"attachEvent",m=l?"removeEventListener":"detachEvent",n=l?"":"on";if("complete"==h.readyState)b.call(a,"lazy");else{if(!l&&k.doScroll){try{f=!a.frameElement}catch(r){}f&&c()}h[p](n+"DOMContentLoaded",d,!1);h[p](n+"readystatechange",d,!1);a[p](n+"load",d,!1)}})(window,c.$);return c}();
